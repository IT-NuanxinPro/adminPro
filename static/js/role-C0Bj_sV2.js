import{a as E,v as H}from"./request-CtyatGF8.js";import{F as P,N as T,G as W}from"./index-CfwXnC4k.js";const B=(o,u,w,v)=>{const n={offsetX:0,offsetY:0},h=(t,e)=>{if(o.value){const{offsetX:a,offsetY:l}=n,s=o.value.getBoundingClientRect(),i=s.left,c=s.top,m=s.width,f=s.height,r=document.documentElement.clientWidth,p=document.documentElement.clientHeight,Y=-i+a,x=-c+l,b=r-i-m+a,D=p-c-(f<p?f:0)+l;v!=null&&v.value||(t=Math.min(Math.max(t,Y),b),e=Math.min(Math.max(e,x),D)),n.offsetX=t,n.offsetY=e,o.value.style.transform=`translate(${E(t)}, ${E(e)})`}},L=t=>{const e=t.clientX,a=t.clientY,{offsetX:l,offsetY:s}=n,i=m=>{const f=l+m.clientX-e,r=s+m.clientY-a;h(f,r)},c=()=>{document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",c)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",c)},M=()=>{u.value&&o.value&&(u.value.addEventListener("mousedown",L),window.addEventListener("resize",d))},g=()=>{u.value&&o.value&&(u.value.removeEventListener("mousedown",L),window.removeEventListener("resize",d))},X=()=>{n.offsetX=0,n.offsetY=0,o.value&&(o.value.style.transform="")},d=()=>{const{offsetX:t,offsetY:e}=n;h(t,e)};return P(()=>{T(()=>{w.value?M():g()})}),W(()=>{g()}),{resetPosition:X,updatePosition:d}};function U(){return H({url:"/getRoleList",method:"get"})}export{U as g,B as u};
