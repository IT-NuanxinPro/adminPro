import{h as _,a6 as J,P,E as W,a7 as X,i as c,a8 as Y,a9 as H,b as I,M as R,L as ee,a4 as h,C as S,Q as oe,F as ne,K as F,aa as te}from"./index-CfwXnC4k.js";import{i as le,U as N,x as O,a as ae}from"./request-CtyatGF8.js";import{t as se}from"./el-popper-CZ9tzebW.js";import{a as ie}from"./el-overlay-CZ7vECGI.js";const ye=Symbol("dialogInjectionKey"),w="dialog-fade",ue=_({center:Boolean,alignCenter:Boolean,closeIcon:{type:le},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),me={close:()=>!0},Ce=_({...ue,appendToBody:Boolean,appendTo:{type:se.to.type,default:"body"},beforeClose:{type:P(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:P([String,Object]),default:w}}),ge={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[N]:e=>J(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},be=(e,t)=>{var E;const l=W().emit,{nextZIndex:f}=X();let p="";const z=O(),M=O(),a=c(!1),d=c(!1),u=c(!1),v=c((E=e.zIndex)!=null?E:f());let s,i;const k=Y("namespace",H),j=I(()=>{const n={},o=`--${k.value}-dialog`;return e.fullscreen||(e.top&&(n[`${o}-margin-top`]=e.top),e.width&&(n[`${o}-width`]=ae(e.width))),n}),U=I(()=>e.alignCenter?{display:"flex"}:{}),V=I(()=>{const n={name:e.transition,onAfterEnter:y,onBeforeLeave:C,onAfterLeave:m};if(R(e.transition)){const o={...e.transition},A=(r,Q)=>T=>{ee(r)?r.forEach(x=>{h(x)&&x(T)}):h(r)&&r(T),Q()};return o.onAfterEnter=A(o.onAfterEnter,y),o.onBeforeLeave=A(o.onBeforeLeave,C),o.onAfterLeave=A(o.onAfterLeave,m),o.name||(o.name=w),o}return n});function y(){l("opened")}function m(){l("closed"),l(N,!1),e.destroyOnClose&&(u.value=!1)}function C(){l("close")}function L(){i==null||i(),s==null||s(),e.openDelay&&e.openDelay>0?{stop:s}=F(()=>D(),e.openDelay):D()}function g(){s==null||s(),i==null||i(),e.closeDelay&&e.closeDelay>0?{stop:i}=F(()=>B(),e.closeDelay):B()}function b(){function n(o){o||(d.value=!0,a.value=!1)}e.beforeClose?e.beforeClose(n):g()}function K(){e.closeOnClickModal&&b()}function D(){te&&(a.value=!0)}function B(){a.value=!1}function $(){l("openAutoFocus")}function G(){l("closeAutoFocus")}function Z(n){var o;((o=n.detail)==null?void 0:o.focusReason)==="pointer"&&n.preventDefault()}e.lockScroll&&ie(a);function q(){e.closeOnPressEscape&&b()}return S(()=>e.zIndex,()=>{var n;v.value=(n=e.zIndex)!=null?n:f()}),S(()=>e.modelValue,n=>{var o;n?(d.value=!1,L(),u.value=!0,v.value=(o=e.zIndex)!=null?o:f(),oe(()=>{l("open"),t.value&&(t.value.parentElement.scrollTop=0,t.value.parentElement.scrollLeft=0,t.value.scrollTop=0)})):a.value&&g()}),S(()=>e.fullscreen,n=>{t.value&&(n?(p=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=p)}),ne(()=>{e.modelValue&&(a.value=!0,u.value=!0,L())}),{afterEnter:y,afterLeave:m,beforeLeave:C,handleClose:b,onModalClick:K,close:g,doClose:B,onOpenAutoFocus:$,onCloseAutoFocus:G,onCloseRequested:q,onFocusoutPrevented:Z,titleId:z,bodyId:M,closed:d,style:j,overlayDialogStyle:U,rendered:u,visible:a,zIndex:v,transitionConfig:V}};export{Ce as a,me as b,ue as c,ge as d,ye as e,be as u};
