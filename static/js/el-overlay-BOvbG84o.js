import{ad as l,al as c,V as C,a as T,ap as M,a8 as A,C as b,aq as L,ar as E,h as N,L as p,d as O,l as w,r as f,G as _}from"./index-BQLjikFn.js";import{t as k,h as y,I as R,d as Y,r as D}from"./request-us1vQyaP.js";import{g as x}from"./el-popper-C6pZcgX3.js";var a=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(a||{});const m=e=>{const t=l(e)?e:[e],n=[];return t.forEach(o=>{var r;l(o)?n.push(...m(o)):c(o)&&l(o.children)?n.push(...m(o.children)):(n.push(o),c(o)&&((r=o.component)!=null&&r.subTree)&&n.push(...m(o.component.subTree)))}),n},W=(e,t={})=>{C(e)||k("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||T("popup"),o=M(()=>n.bm("parent","hidden"));if(!A||y(document.body,o.value))return;let r=0,u=!1,s="0";const d=()=>{setTimeout(()=>{D(document==null?void 0:document.body,o.value),u&&document&&(document.body.style.width=s)},200)};b(e,i=>{if(!i){d();return}u=!y(document.body,o.value),u&&(s=document.body.style.width),r=x(n.namespace.value);const S=document.documentElement.clientHeight<document.body.scrollHeight,v=R(document.body,"overflowY");r>0&&(S||v==="scroll")&&u&&(document.body.style.width=`calc(100% - ${r}px)`),Y(document.body,o.value)}),L(()=>d())},I=e=>{if(!e)return{onClick:E,onMousedown:E,onMouseup:E};let t=!1,n=!1;return{onClick:s=>{t&&n&&e(s),t=n=!1},onMousedown:s=>{t=s.target===s.currentTarget},onMouseup:s=>{n=s.target===s.currentTarget}}},H=N({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:p([String,Array,Object])},zIndex:{type:p([String,Number])}}),B={click:e=>e instanceof MouseEvent},G="overlay";var z=O({name:"ElOverlay",props:H,emits:B,setup(e,{slots:t,emit:n}){const o=T(G),r=i=>{n("click",i)},{onClick:u,onMousedown:s,onMouseup:d}=I(e.customMaskEvent?void 0:r);return()=>e.mask?w("div",{class:[o.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:u,onMousedown:s,onMouseup:d},[f(t,"default")],a.STYLE|a.CLASS|a.PROPS,["onClick","onMouseup","onMousedown"]):_("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[f(t,"default")])}});const X=z;export{X as E,W as a,m as f,I as u};
