import{as as c,d as b,h,a as f,m as C,H as w,r as i,P as m,W as g,b as k,aa as M,C as x,at as S}from"./index-CfwXnC4k.js";import{P as d,g as E}from"./el-popper-CZ9tzebW.js";import{t as O,h as y,d as P,K as T,r as z}from"./request-CtyatGF8.js";const B=e=>{if(!e)return{onClick:c,onMousedown:c,onMouseup:c};let t=!1,s=!1;return{onClick:o=>{t&&s&&e(o),t=s=!1},onMousedown:o=>{t=o.target===o.currentTarget},onMouseup:o=>{s=o.target===o.currentTarget}}},H=h({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:m([String,Array,Object])},zIndex:{type:m([String,Number])}}),I={click:e=>e instanceof MouseEvent},L="overlay";var N=b({name:"ElOverlay",props:H,emits:I,setup(e,{slots:t,emit:s}){const n=f(L),l=u=>{s("click",u)},{onClick:a,onMousedown:o,onMouseup:r}=B(e.customMaskEvent?void 0:l);return()=>e.mask?C("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:o,onMouseup:r},[i(t,"default")],d.STYLE|d.CLASS|d.PROPS,["onClick","onMouseup","onMousedown"]):w("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[i(t,"default")])}});const K=N,R=(e,t={})=>{g(e)||O("[useLockscreen]","You need to pass a ref param to this function");const s=t.ns||f("popup"),n=k(()=>s.bm("parent","hidden"));if(!M||y(document.body,n.value))return;let l=0,a=!1,o="0";const r=()=>{setTimeout(()=>{typeof document>"u"||a&&document&&(document.body.style.width=o,z(document.body,n.value))},200)};x(e,u=>{if(!u){r();return}a=!y(document.body,n.value),a&&(o=document.body.style.width,P(document.body,n.value)),l=E(s.namespace.value);const p=document.documentElement.clientHeight<document.body.scrollHeight,v=T(document.body,"overflowY");l>0&&(p||v==="scroll")&&a&&(document.body.style.width=`calc(100% - ${l}px)`)}),S(()=>r())};export{K as E,R as a,B as u};
